<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KlickKrawall | Mainscreen</title>
    <script src="mainscreen.js" defer></script>
    <link rel="stylesheet" href="mainscreen.css" />
    <!-- Material Symbols (Google Fonts) -->
<link rel="icon" type="image/x-icon" href="Bilder/favicons/normal.png">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&family=Material+Symbols+Outlined" rel="stylesheet" />
</head>
<body class="md3-bg" id="bodyRoot">
    <main class="md3-main-container">
        <section class="md3-top-bar">
            <button id="darkModeToggle" class="md3-icon-btn" title="Darkmode umschalten" style="position:absolute;top:1.5rem;right:2.5rem;">
                <span class="material-symbols-outlined" id="darkModeIcon">dark_mode</span>
            </button>
            <div class="md3-pin-card md3-elevated-card">
                <div class="md3-pin-content">
                    <p>PIN:</p><span id="pinAnzeige" class="md3-pin-text" style="font-size: 3rem;font-weight: bold;">...</span>
                    <button id="copyPinBtn" class="md3-icon-btn" title="PIN kopieren">
                        <span class="material-symbols-outlined">content_copy</span>
                    </button>
                </div>
                <div class="md3-pin-content">
                    <span id="linkAnzeige" class="md3-pin-text">Link zur Lobby kopieren</span>
                    <button id="copyLinkBtn" class="md3-icon-btn" title="Link kopieren">
                        <span class="material-symbols-outlined">content_copy</span>
                    </button>
                </div>
            </div>
        </section>
        <section class="md3-content-flex">
            <div class="md3-card md3-elevated-card md3-actions-card">
                <div class="md3-actions">
                    <button id="startBtn" class ="md3-btn md3-btn-filled" style="display: none;">
                        <span class="material-symbols-outlined">play_circle</span>
                        Spiel starten
                    </button>
                    <button id="spielBeendenBtn" class="md3-btn md3-btn-tonal">
                        <span class="material-symbols-outlined">stop_circle</span>
                        Lobby schließen
                    </button>
                    <button id="modusWählenBtn" class="md3-btn md3-btn-outlined">
                        <span class="material-symbols-outlined">settings</span>
                        Spielmodus wählen
                    </button>
                    <button id="resetBtn" class="md3-btn md3-btn-outlined" style="display: none">
                        <span class="material-symbols-outlined">refresh</span>
                        Spiel-Modus zurücksetzen
                    </button>
                </div>
            </div>
        </section>
        <section class="md3-content-flex">
            <!-- Zusammengefasste Box für Spieler und Warteschlange -->
            <div class="md3-card md3-elevated-card md3-player-queue-card">
                <h2 class="md3-card-title">Spieler & ausgewählte Spiele</h2>
                <div>
                    <h3 style="margin-bottom:0.5em;font-size:1.1em;color:var(--md3-primary);">Spieler</h3>
                    <div id="spielerListe" class="md3-list">Spieler werden geladen...</div>
                </div>
                <div style="margin-top:1.5em;">
                    <h3 style="margin-bottom:0.5em;font-size:1.1em;color:var(--md3-primary);">Ausgewählte Spiele</h3>
                    <div id="warteschlangeContent" class="md3-list">Lade Spielauswahl...</div>
                </div>
            </div>
            <!-- Leere zweite Box für zukünftige Optionen -->
            <div class="md3-card md3-elevated-card md3-options-card" style="display: none;">
                <h2 class="md3-card-title">Optionen</h2>
                <div style="display:flex;flex-direction:column;gap:1em;align-items:flex-start;">
                    <button class="md3-btn md3-btn-outlined" disabled>Option 1</button>
                    <button class="md3-btn md3-btn-outlined" disabled>Option 2</button>
                    <button class="md3-btn md3-btn-outlined" disabled>Option 3</button>
                </div>
            </div>
        </section>

        <!-- Popup für die Rundenanzahl-->
        <div id="popupOverlayRunden" class="md3-popup-overlay">
            <div id="popupMenu" class="md3-popup-card md3-elevated-card">
                <h2 class="md3-card-title">Rundenanzahl wählen</h2>
                <div class="md3-pin-text" style="margin-bottom: 10px;">Wie viele Runden wollt ihr spielen?</div>
                <div id="anzahlRunden" class="md3-select-group">
                    <label for="rundenInput"></label>
                    <select id="runden" name="runden" class="md3-select">
                        <option class="md3-select-option" value="1" selected>1</option>
                        <option class="md3-select-option" value="2">2</option>
                        <option class="md3-select-option" value="3">3</option>
                        <option class="md3-select-option" value="4">4</option>
                        <option class="md3-select-option" value="5">5</option>
                    </select>
                </div>
                <button id="zurückBtn1" class="md3-btn md3-btn-tonal">Zurück</button>
                <button id="weiterBtn" class="md3-btn md3-btn-filled">Weiter</button>
            </div>
        </div>

        <!-- Popup für den Spielmodus-->
        <div id="popupOverlayModus" class="md3-popup-overlay">
            <div id="popupMenu" class="md3-popup-card md3-elevated-card">
                <h2 class="md3-card-title">Spielmodus wählen</h2>
                <div class="md3-pin-text" style="margin-bottom: 10px;">Welchen Modus wollt ihr spielen?</div>
                <div class="md3-pin-card md3-elevated-card" style="margin-bottom: 20px;">
                    <button id="zufälligModusBtn" class="md3-btn md3-btn-filled">Zufallsmodus</button>
                    <button id="spieleAuswählenModusBtn" class="md3-btn md3-btn-filled">Spiele auswählen</button>
                </div>
                <button id="zurückBtn2" class="md3-btn md3-btn-tonal">Zurück</button>
            </div>
        </div>
        
        <!-- Popup für Auswahlmodus -->
        <div id="popupOverlayAuswahl" class="md3-popup-overlay">
            <div id="popupMenu" class="md3-popup-card md3-elevated-card">
                <h2 class="md3-card-title">Nächstes Spiel auswählen</h2>
                <div class="game-grid" id="gameGrid">
                    <!-- Spielkarten werden per JS eingefügt -->
                </div>
                <button id="spieleSetzenBtn" class="md3-btn md3-btn-filled">Spiel setzen</button>
                <button id="zurückBtn3" class="md3-btn md3-btn-tonal">Zurück</button>
                <div id="auswahlStatus" class="md3-status-text"></div>
            </div>
        </div>

        <!-- Popup für den Zufallsmodus-->
        <div id="popupOverlayZufall" class="md3-popup-overlay">
            <div id="popupMenu" class="md3-popup-card md3-elevated-card">
                <h2 class="md3-card-title">Zufallsmodus</h2>
                <button id="zufallSetzenBtn" class="md3-btn md3-btn-filled">Spiele zufällig auswählen</button>
                <button id="zurückBtn4" class="md3-btn md3-btn-tonal">Zurück</button>
                <div id="zufallStatus" class="md3-status-text"></div>
            </div>
        </div>

    </main>
</body>
</html>